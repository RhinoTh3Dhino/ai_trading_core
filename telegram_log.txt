[2025-06-18 21:35:59] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: evaluate_strategies() got an unexpected keyword argument 'ml_signals'
[2025-06-18 21:35:59] Besked sendt OK.
[2025-06-18 21:39:34] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.68% | Win-rate: 50.0% | Trades: 13

ğŸ“Š Strategi-score:
ML:    {'profit_pct': np.float64(-0.27), 'win_rate': np.float64(0.4615), 'drawdown_pct': np.float64(-0.97), 'num_trades': 28}
RSI:   {'profit_pct': np.float64(-0.82), 'win_rate': np.float64(0.6364), 'drawdown_pct': np.float64(-0.82), 'num_trades': 22}
MACD:  {'profit_pct': np.float64(0.38), 'win_rate': np.float64(0.4375), 'drawdown_pct': np.float64(-1.19), 'num_trades': 34}
Ensemble: {'profit_pct': np.float64(0.68), 'win_rate': np.float64(0.5), 'drawdown_pct': np.float64(-0.9), 'num_trades': 26}

[2025-06-18 21:39:34] Besked sendt OK.
[2025-06-18 21:39:34] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-18 21:39:34] Billede sendt OK.
[2025-06-18 21:39:34] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-18 21:39:34] Billede sendt OK.
[2025-06-18 21:39:34] Sender billede: graphs/strategy_scores_20250618_213932.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-18 21:39:35] Billede sendt OK.
[2025-06-18 21:39:35] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-18\backup_21-39-35
[2025-06-18 21:39:35] Besked sendt OK.
[2025-06-19 00:19:31] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: Cannot cast array data from dtype('O') to dtype('float64') according to the rule 'safe'
[2025-06-19 00:19:31] Besked sendt OK.
[2025-06-19 00:32:47] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2025-06-19 00:32:47] Besked sendt OK.
[2025-06-20 17:41:08] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2025-06-20 17:41:08] Besked sendt OK.
[2025-06-20 21:09:53] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2025-06-20 21:09:53] Besked sendt OK.
[2025-06-20 21:17:55] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: Multi-dimensional indexing (e.g. `obj[:, None]`) is no longer supported. Convert to a numpy array before indexing instead.
[2025-06-20 21:17:56] Besked sendt OK.
[2025-06-20 21:24:15] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: Multi-dimensional indexing (e.g. `obj[:, None]`) is no longer supported. Convert to a numpy array before indexing instead.
[2025-06-20 21:24:15] Besked sendt OK.
[2025-06-20 21:29:15] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: Multi-dimensional indexing (e.g. `obj[:, None]`) is no longer supported. Convert to a numpy array before indexing instead.
[2025-06-20 21:29:15] Besked sendt OK.
[2025-06-20 21:35:21] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: Multi-dimensional indexing (e.g. `obj[:, None]`) is no longer supported. Convert to a numpy array before indexing instead.
[2025-06-20 21:35:21] Besked sendt OK.
[2025-06-20 21:53:10] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: unhashable type: 'numpy.ndarray'
[2025-06-20 21:53:10] Besked sendt OK.
[2025-06-20 22:02:46] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: unhashable type: 'numpy.ndarray'
[2025-06-20 22:02:46] Besked sendt OK.
[2025-06-20 22:35:20] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: only length-1 arrays can be converted to Python scalars
[2025-06-20 22:35:20] Besked sendt OK.
[2025-06-20 22:43:47] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: only length-1 arrays can be converted to Python scalars
[2025-06-20 22:43:47] Besked sendt OK.
[2025-06-20 22:50:53] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: unhashable type: 'numpy.ndarray'
[2025-06-20 22:50:54] Besked sendt OK.
[2025-06-20 23:00:14] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: unhashable type: 'numpy.ndarray'
[2025-06-20 23:00:14] Besked sendt OK.
[2025-06-20 23:10:19] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: shape mismatch: objects cannot be broadcast to a single shape.  Mismatch is between arg 2 with shape (15, 3, 3) and arg 3 with shape (15,).
[2025-06-20 23:10:19] Besked sendt OK.
[2025-06-20 23:18:56] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: too many indices for array: array is 0-dimensional, but 1 were indexed
[2025-06-20 23:18:56] Besked sendt OK.
[2025-06-20 23:46:11] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: ufunc 'absolute' did not contain a loop with signature matching types <class 'numpy.dtypes.StrDType'> -> None
[2025-06-20 23:46:11] Besked sendt OK.
[2025-06-20 23:55:56] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: ufunc 'absolute' did not contain a loop with signature matching types <class 'numpy.dtypes.StrDType'> -> None
[2025-06-20 23:55:56] Besked sendt OK.
[2025-06-21 00:02:14] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- volume_spike

[2025-06-21 00:02:14] Besked sendt OK.
[2025-06-21 00:09:17] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.45% | Win-rate: 46.7% | Trades: 16

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.32, 'win_rate': 0.4615, 'drawdown_pct': -1.32, 'num_trades': 28}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.45, 'win_rate': 0.4667, 'drawdown_pct': -1.12, 'num_trades': 32}

[2025-06-21 00:09:18] Besked sendt OK.
[2025-06-21 00:09:18] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 00:09:18] Billede sendt OK.
[2025-06-21 00:09:18] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 00:09:18] Billede sendt OK.
[2025-06-21 00:09:18] Sender billede: graphs/strategy_scores_20250621_000916.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 00:09:18] Billede sendt OK.
[2025-06-21 00:09:18] Sender billede: graphs/feature_importance_ML_20250621_000916.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 00:09:18] Billede sendt OK.
[2025-06-21 00:09:19] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_00-09-18
[2025-06-21 00:09:19] Besked sendt OK.
[2025-06-21 00:39:15] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 00:39:15] Besked sendt OK.
[2025-06-21 00:39:16] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.45% | Win-rate: 46.7% | Trades: 16

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.32, 'win_rate': 0.4615, 'drawdown_pct': -1.32, 'num_trades': 28}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.45, 'win_rate': 0.4667, 'drawdown_pct': -1.12, 'num_trades': 32}

[2025-06-21 00:39:16] Besked sendt OK.
[2025-06-21 00:39:16] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 00:39:17] Billede sendt OK.
[2025-06-21 00:39:17] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 00:39:17] Billede sendt OK.
[2025-06-21 00:39:17] Sender billede: graphs/strategy_scores_20250621_003915.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 00:39:17] Billede sendt OK.
[2025-06-21 00:39:17] Sender billede: graphs/feature_importance_ML_20250621_003915.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 00:39:17] Billede sendt OK.
[2025-06-21 00:39:17] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_00-39-17
[2025-06-21 00:39:17] Besked sendt OK.
[2025-06-21 01:28:27] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:28:28] Besked sendt OK.
[2025-06-21 01:28:28] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:28:28] Besked sendt OK.
[2025-06-21 01:33:50] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:33:50] Besked sendt OK.
[2025-06-21 01:33:50] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:33:50] Besked sendt OK.
[2025-06-21 01:37:33] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:37:33] Besked sendt OK.
[2025-06-21 01:37:33] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:37:33] Besked sendt OK.
[2025-06-21 01:44:15] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:44:15] Besked sendt OK.
[2025-06-21 01:44:15] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:44:15] Besked sendt OK.
[2025-06-21 01:49:22] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:49:22] Besked sendt OK.
[2025-06-21 01:49:22] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:49:22] Besked sendt OK.
[2025-06-21 01:53:44] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 01:53:44] Besked sendt OK.
[2025-06-21 01:53:44] Sender besked: âŒ Bot FEJLEDE under kÃ¸rsel: 'regime'
[2025-06-21 01:53:44] Besked sendt OK.
[2025-06-21 02:02:25] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14_z: 0.0862
2. return: 0.0853
3. volume: 0.0853
4. rsi_14: 0.0838
5. rsi_28_z: 0.0826
[2025-06-21 02:02:25] Besked sendt OK.
[2025-06-21 02:02:27] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.45% | Win-rate: 46.7% | Trades: 16

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.32, 'win_rate': 0.4615, 'drawdown_pct': -1.32, 'num_trades': 28}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.45, 'win_rate': 0.4667, 'drawdown_pct': -1.12, 'num_trades': 32, 'regime_stats': {}}

[2025-06-21 02:02:27] Besked sendt OK.
[2025-06-21 02:02:27] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 02:02:27] Billede sendt OK.
[2025-06-21 02:02:27] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 02:02:27] Billede sendt OK.
[2025-06-21 02:02:27] Sender billede: graphs/strategy_scores_20250621_020225.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 02:02:28] Billede sendt OK.
[2025-06-21 02:02:28] Sender billede: graphs/feature_importance_ML_20250621_020225.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 02:02:28] Billede sendt OK.
[2025-06-21 02:02:28] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_02-02-28
[2025-06-21 02:02:28] Besked sendt OK.
[2025-06-21 02:13:12] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-21 02:13:12] Besked sendt OK.
[2025-06-21 02:13:13] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.38% | Win-rate: 50.0% | Trades: 17

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {}}

[2025-06-21 02:13:14] Besked sendt OK.
[2025-06-21 02:13:14] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 02:13:14] Billede sendt OK.
[2025-06-21 02:13:14] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 02:13:14] Billede sendt OK.
[2025-06-21 02:13:14] Sender billede: graphs/strategy_scores_20250621_021312.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 02:13:14] Billede sendt OK.
[2025-06-21 02:13:14] Sender billede: graphs/feature_importance_ML_20250621_021311.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 02:13:14] Billede sendt OK.
[2025-06-21 02:13:15] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_02-13-14
[2025-06-21 02:13:15] Besked sendt OK.
[2025-06-21 02:17:42] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-21 02:17:42] Besked sendt OK.
[2025-06-21 02:17:43] Sender besked: ğŸ“Š Performance pr. regime:
bull: Win-rate 0.0%, Profit -1.19%, Trades 14
bear: Win-rate 80.0%, Profit 0.45%, Trades 20
[2025-06-21 02:17:43] Besked sendt OK.
[2025-06-21 02:17:43] Regime-summary sendt.
[2025-06-21 02:17:43] Sender besked: âš ï¸ ADVARSEL: Win-rate lav i regime 'bull': 0.0%
Antal handler: 14 | Profit: -1.19%
[2025-06-21 02:17:43] Besked sendt OK.
[2025-06-21 02:17:43] Regime-advarsel sendt for bull.
[2025-06-21 02:17:44] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.38% | Win-rate: 50.0% | Trades: 17

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {'bull': {'num_trades': 14, 'win_rate': 0.0, 'profit_pct': -1.19}, 'bear': {'num_trades': 20, 'win_rate': 0.8, 'profit_pct': 0.45}}}

[2025-06-21 02:17:44] Besked sendt OK.
[2025-06-21 02:17:44] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 02:17:45] Billede sendt OK.
[2025-06-21 02:17:45] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 02:17:45] Billede sendt OK.
[2025-06-21 02:17:45] Sender billede: graphs/strategy_scores_20250621_021743.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 02:17:45] Billede sendt OK.
[2025-06-21 02:17:45] Sender billede: graphs/feature_importance_ML_20250621_021742.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 02:17:45] Billede sendt OK.
[2025-06-21 02:17:45] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_02-17-45
[2025-06-21 02:17:45] Besked sendt OK.
[2025-06-21 02:33:50] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-21 02:33:50] Besked sendt OK.
[2025-06-21 02:33:51] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

[2025-06-21 02:33:51] Besked sendt OK.
[2025-06-21 02:33:52] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {'bull': {'num_trades': 14, 'win_rate': 0.0, 'profit_pct': -1.19}, 'bear': {'num_trades': 20, 'win_rate': 0.8, 'profit_pct': 0.45}}}

[2025-06-21 02:33:52] Besked sendt OK.
[2025-06-21 02:33:52] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-21 02:33:53] Billede sendt OK.
[2025-06-21 02:33:53] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-21 02:33:53] Billede sendt OK.
[2025-06-21 02:33:53] Sender billede: graphs/strategy_scores_20250621_023351.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-21 02:33:53] Billede sendt OK.
[2025-06-21 02:33:53] Sender billede: graphs/feature_importance_ML_20250621_023350.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-21 02:33:53] Billede sendt OK.
[2025-06-21 02:33:53] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-21\backup_02-33-53
[2025-06-21 02:33:53] Besked sendt OK.
[2025-06-23 23:07:18] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-23 23:07:19] Besked sendt OK.
[2025-06-23 23:07:19] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

[2025-06-23 23:07:19] Besked sendt OK.
[2025-06-23 23:07:21] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {'bull': {'num_trades': 14, 'win_rate': 0.0, 'profit_pct': -1.19}, 'bear': {'num_trades': 20, 'win_rate': 0.8, 'profit_pct': 0.45}}}

[2025-06-23 23:07:21] Besked sendt OK.
[2025-06-23 23:07:21] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-23 23:07:21] Billede sendt OK.
[2025-06-23 23:07:21] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-23 23:07:21] Billede sendt OK.
[2025-06-23 23:07:21] Sender billede: graphs/strategy_scores_20250623_230719.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-23 23:07:21] Billede sendt OK.
[2025-06-23 23:07:21] Sender billede: graphs/feature_importance_ML_20250623_230718.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-23 23:07:21] Billede sendt OK.
[2025-06-23 23:07:22] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-23\backup_23-07-21
[2025-06-23 23:07:22] Besked sendt OK.
[2025-06-24 20:11:14] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-24 20:11:14] Besked sendt OK.
[2025-06-24 20:11:14] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

[2025-06-24 20:11:14] Besked sendt OK.
[2025-06-24 20:11:16] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {'bull': {'num_trades': 14, 'win_rate': 0.0, 'profit_pct': -1.19}, 'bear': {'num_trades': 20, 'win_rate': 0.8, 'profit_pct': 0.45}}}

[2025-06-24 20:11:16] Besked sendt OK.
[2025-06-24 20:11:16] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 20:11:16] Billede sendt OK.
[2025-06-24 20:11:16] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 20:11:16] Billede sendt OK.
[2025-06-24 20:11:16] Sender billede: graphs/strategy_scores_20250624_201114.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 20:11:16] Billede sendt OK.
[2025-06-24 20:11:16] Sender billede: graphs/feature_importance_ML_20250624_201114.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 20:11:17] Billede sendt OK.
[2025-06-24 20:21:31] Sender besked: ğŸ“Š Top-5 features (ML):
1. return_z: 0.1825
2. ema_200: 0.1709
3. macd_z: 0.1669
4. rsi_14_z: 0.1619
5. macd_signal: 0.1608
[2025-06-24 20:21:31] Besked sendt OK.
[2025-06-24 20:21:31] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

[2025-06-24 20:21:31] Besked sendt OK.
[2025-06-24 20:21:33] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.12% | Win-rate: 54.5% | Trades: 12

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -1.39, 'win_rate': 0.5, 'drawdown_pct': -1.39, 'num_trades': 30}
RSI:   {'profit_pct': -0.82, 'win_rate': 0.6364, 'drawdown_pct': -0.82, 'num_trades': 22}
MACD:  {'profit_pct': 0.38, 'win_rate': 0.4375, 'drawdown_pct': -1.19, 'num_trades': 34}
Ensemble: {'profit_pct': 0.38, 'win_rate': 0.5, 'drawdown_pct': -1.19, 'num_trades': 34, 'regime_stats': {'bull': {'num_trades': 14, 'win_rate': 0.0, 'profit_pct': -1.19}, 'bear': {'num_trades': 20, 'win_rate': 0.8, 'profit_pct': 0.45}}}

[2025-06-24 20:21:33] Besked sendt OK.
[2025-06-24 20:21:33] Sender billede: graphs/btc_balance_20250607.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 20:21:33] Billede sendt OK.
[2025-06-24 20:21:33] Sender billede: graphs/btc_drawdown_2025-06-07.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 20:21:33] Billede sendt OK.
[2025-06-24 20:21:33] Sender billede: graphs/strategy_scores_20250624_202131.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 20:21:34] Billede sendt OK.
[2025-06-24 20:21:34] Sender billede: graphs/feature_importance_ML_20250624_202131.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 20:21:34] Billede sendt OK.
[2025-06-24 20:32:12] Sender besked: âŒ Fejl i <lambda>: 'regime'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'regime'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 95, in main
    print("Regime-vÃ¦rdier i df:", df["regime"].value_counts(dropna=False).to_dict())
                                  ~~^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'regime'

[2025-06-24 20:32:12] Besked sendt OK.
[2025-06-24 20:49:18] Sender besked: âŒ Fejl i <lambda>: 'target'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'target'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 99, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 254, in train_model
    y = df[target_col]
        ~~^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'target'

[2025-06-24 20:49:18] Besked sendt OK.
[2025-06-24 20:56:05] Sender besked: âŒ Fejl i <lambda>: Additivity check failed in TreeExplainer! Please ensure the data matrix you passed to the explainer is the same shape that the model was trained on. If your data shape is correct then please report this on GitHub. This check failed because for one of the samples the sum of the SHAP values was 0.310100, while the model output was 0.320000. If this difference is acceptable you can set check_additivity=False to disable this check.
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 99, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 280, in train_model
    new_model, selected_features, *_ = run_feature_importance_and_selection(
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 199, in run_feature_importance_and_selection
    shap_names, shap_scores = calculate_shap_importance(model, X_val)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 133, in calculate_shap_importance
    shap_values = explainer(X_val)
                  ^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\shap\explainers\_tree.py", line 262, in __call__
    v = self.shap_values(X, y=y, from_call=True, check_additivity=check_additivity, approximate=self.approximate)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\shap\explainers\_tree.py", line 510, in shap_values
    self.assert_additivity(out, self.model.predict(X))
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\shap\explainers\_tree.py", line 678, in assert_additivity
    check_sum(self.expected_value[i] + phi[i].sum(-1), model_output[:,i])
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\shap\explainers\_tree.py", line 674, in check_sum
    raise ExplainerError(err_msg)
shap.utils._exceptions.ExplainerError: Additivity check failed in TreeExplainer! Please ensure the data matrix you passed to the explainer is the same shape that the model was trained on. If your data shape is correct then please report this on GitHub. This check failed because for one of the samples the sum of the SHAP values was 0.310100, while the model output was 0.320000. If this difference is acceptable you can set check_additivity=False to disable this check.

[2025-06-24 20:56:05] Besked sendt OK.
[2025-06-24 21:04:04] Sender besked: ğŸ“Š Top-5 features (ML):
1. low: 0.1967
2. macd_signal: 0.1769
3. ema_21: 0.1767
4. macd: 0.1721
5. ema_50: 0.1556
[2025-06-24 21:04:04] Besked sendt OK.
[2025-06-24 21:04:05] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bull']
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

[2025-06-24 21:04:05] Besked sendt OK.
[2025-06-24 21:04:06] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.07, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28}
RSI:   {'profit_pct': -0.6, 'win_rate': 0.375, 'drawdown_pct': -0.6, 'num_trades': 16}
MACD:  {'profit_pct': -0.82, 'win_rate': 0.3077, 'drawdown_pct': -0.97, 'num_trades': 28}
Ensemble: {'profit_pct': -0.82, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28, 'regime_stats': {'bear': {'num_trades': 20, 'win_rate': 0.2222, 'profit_pct': -0.82}, 'bull': {'num_trades': 8, 'win_rate': 0.75, 'profit_pct': -0.3}}}

[2025-06-24 21:04:06] Besked sendt OK.
[2025-06-24 21:04:06] Sender billede: graphs/btc_balance_20250624.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 21:04:06] Billede sendt OK.
[2025-06-24 21:04:06] Sender billede: graphs/btc_drawdown_2025-06-24.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 21:04:07] Billede sendt OK.
[2025-06-24 21:04:07] Sender billede: graphs/strategy_scores_20250624_210405.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 21:04:07] Billede sendt OK.
[2025-06-24 21:04:07] Sender billede: graphs/feature_importance_ML_20250624_210404.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 21:04:07] Billede sendt OK.
[2025-06-24 21:45:03] Sender besked: ğŸ“Š Top-5 features (ML):
1. low: 0.1967
2. macd_signal: 0.1769
3. ema_21: 0.1767
4. macd: 0.1721
5. ema_50: 0.1556
[2025-06-24 21:45:03] Besked sendt OK.
[2025-06-24 21:45:03] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bull']
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

[2025-06-24 21:45:04] Besked sendt OK.
[2025-06-24 21:45:05] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.07, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28}
RSI:   {'profit_pct': -0.6, 'win_rate': 0.375, 'drawdown_pct': -0.6, 'num_trades': 16}
MACD:  {'profit_pct': -0.82, 'win_rate': 0.3077, 'drawdown_pct': -0.97, 'num_trades': 28}
Ensemble: {'profit_pct': -0.82, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28, 'regime_stats': {'bear': {'num_trades': 20, 'win_rate': 0.2222, 'profit_pct': -0.82}, 'bull': {'num_trades': 8, 'win_rate': 0.75, 'profit_pct': -0.3}}}

[2025-06-24 21:45:05] Besked sendt OK.
[2025-06-24 21:45:05] Sender billede: graphs/btc_balance_20250624.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 21:45:05] Billede sendt OK.
[2025-06-24 21:45:05] Sender billede: graphs/btc_drawdown_2025-06-24.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 21:45:05] Billede sendt OK.
[2025-06-24 21:45:05] Sender billede: graphs/strategy_scores_20250624_214504.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 21:45:05] Billede sendt OK.
[2025-06-24 21:45:05] Sender billede: graphs/feature_importance_ML_20250624_214503.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 21:45:06] Billede sendt OK.
[2025-06-24 21:45:06] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-24\backup_21-45-06
[2025-06-24 21:45:06] Besked sendt OK.
[2025-06-24 22:00:06] Sender besked: ğŸ“Š Top-5 features (ML):
1. low: 0.1967
2. macd_signal: 0.1769
3. ema_21: 0.1767
4. macd: 0.1721
5. ema_50: 0.1556
[2025-06-24 22:00:06] Besked sendt OK.
[2025-06-24 22:00:07] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bull']
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

[2025-06-24 22:00:07] Besked sendt OK.
[2025-06-24 22:00:08] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.38% | Win-rate: 33.3% | Trades: 7

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.07, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28}
RSI:   {'profit_pct': -0.6, 'win_rate': 0.375, 'drawdown_pct': -0.6, 'num_trades': 16}
MACD:  {'profit_pct': -0.82, 'win_rate': 0.3077, 'drawdown_pct': -0.97, 'num_trades': 28}
Ensemble: {'profit_pct': -0.82, 'win_rate': 0.3846, 'drawdown_pct': -0.97, 'num_trades': 28, 'regime_stats': {'bear': {'num_trades': 20, 'win_rate': 0.2222, 'profit_pct': -0.82}, 'bull': {'num_trades': 8, 'win_rate': 0.75, 'profit_pct': -0.3}}}

[2025-06-24 22:00:08] Besked sendt OK.
[2025-06-24 22:00:08] Sender billede: graphs/btc_balance_20250624.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 22:00:08] Billede sendt OK.
[2025-06-24 22:00:08] Sender billede: graphs/btc_drawdown_2025-06-24.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 22:00:08] Billede sendt OK.
[2025-06-24 22:00:08] Sender billede: graphs/strategy_scores_20250624_220007.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 22:00:09] Billede sendt OK.
[2025-06-24 22:00:09] Sender billede: graphs/feature_importance_ML_20250624_220006.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 22:00:09] Billede sendt OK.
[2025-06-24 22:00:09] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-24\backup_22-00-09
[2025-06-24 22:00:09] Besked sendt OK.
[2025-06-24 22:52:52] Sender besked: ğŸ“Š Top-5 features (ML):
1. close: 0.2232
2. ema_9: 0.2116
3. high: 0.2012
4. ema_50: 0.2004
5. ema_200: 0.1636
[2025-06-24 22:52:52] Besked sendt OK.
[2025-06-24 22:52:52] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bull']
Profit: 0.57% | Win-rate: 33.3% | Trades: 7

[2025-06-24 22:52:52] Besked sendt OK.
[2025-06-24 22:52:53] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.57% | Win-rate: 33.3% | Trades: 7

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.34, 'win_rate': 0.4, 'drawdown_pct': -0.75, 'num_trades': 22}
RSI:   {'profit_pct': -0.6, 'win_rate': 0.375, 'drawdown_pct': -0.6, 'num_trades': 16}
MACD:  {'profit_pct': -0.63, 'win_rate': 0.3077, 'drawdown_pct': -0.97, 'num_trades': 28}
Ensemble: {'profit_pct': -0.63, 'win_rate': 0.3077, 'drawdown_pct': -0.97, 'num_trades': 28, 'regime_stats': {'bear': {'num_trades': 20, 'win_rate': 0.1111, 'profit_pct': -0.63}, 'bull': {'num_trades': 8, 'win_rate': 0.75, 'profit_pct': -0.3}}}

[2025-06-24 22:52:53] Besked sendt OK.
[2025-06-24 22:52:53] Sender billede: graphs/btc_balance_20250624.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-24 22:52:54] Billede sendt OK.
[2025-06-24 22:52:54] Sender billede: graphs/btc_drawdown_2025-06-24.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-24 22:52:54] Billede sendt OK.
[2025-06-24 22:52:54] Sender billede: graphs/strategy_scores_20250624_225252.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-24 22:52:54] Billede sendt OK.
[2025-06-24 22:52:54] Sender billede: graphs/feature_importance_ML_20250624_225251.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-24 22:52:54] Billede sendt OK.
[2025-06-26 17:43:45] Sender besked: âŒ Fejl i <lambda>: 'target'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'target'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 99, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 250, in train_model
    y = df[target_col]
        ~~^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'target'

[2025-06-26 17:43:46] Besked sendt OK.
[2025-06-26 17:47:02] Sender besked: âŒ Fejl i <lambda>: 'target'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'target'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 99, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 250, in train_model
    y = df[target_col]
        ~~^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'target'

[2025-06-26 17:47:02] Besked sendt OK.
[2025-06-26 18:06:17] Sender besked: ğŸ“Š Top-5 features (ML):
1. ema_21: 0.2071
2. open: 0.2063
3. macd_signal: 0.2049
4. high: 0.1955
5. ema_9: 0.1862
[2025-06-26 18:06:17] Besked sendt OK.
[2025-06-26 18:06:17] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 1.01% | Win-rate: 50.0% | Trades: 9

[2025-06-26 18:06:17] Besked sendt OK.
[2025-06-26 18:06:18] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 1.01% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 1.37, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.71, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.71, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 1.09}}}

[2025-06-26 18:06:18] Besked sendt OK.
[2025-06-26 18:06:18] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 18:06:19] Billede sendt OK.
[2025-06-26 18:06:19] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 18:06:19] Billede sendt OK.
[2025-06-26 18:06:19] Sender billede: graphs/strategy_scores_20250626_180617.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 18:06:19] Billede sendt OK.
[2025-06-26 18:06:19] Sender billede: graphs/feature_importance_ML_20250626_180617.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 18:06:20] Billede sendt OK.
[2025-06-26 18:41:58] Sender besked: ğŸ“Š Top-5 features (ML):
1. ema_21: 0.2071
2. open: 0.2063
3. macd_signal: 0.2049
4. high: 0.1955
5. ema_9: 0.1862
[2025-06-26 18:41:58] Besked sendt OK.
[2025-06-26 18:41:58] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 1.01% | Win-rate: 50.0% | Trades: 9

[2025-06-26 18:41:58] Besked sendt OK.
[2025-06-26 18:41:59] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 1.01% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 1.37, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.71, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.71, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 1.09}}}

[2025-06-26 18:42:00] Besked sendt OK.
[2025-06-26 18:42:00] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 18:42:00] Billede sendt OK.
[2025-06-26 18:42:00] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 18:42:00] Billede sendt OK.
[2025-06-26 18:42:00] Sender billede: graphs/strategy_scores_20250626_184158.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 18:42:00] Billede sendt OK.
[2025-06-26 18:42:00] Sender billede: graphs/feature_importance_ML_20250626_184158.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 18:42:00] Billede sendt OK.
[2025-06-26 18:42:01] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-26\backup_18-42-00
[2025-06-26 18:42:01] Besked sendt OK.
[2025-06-26 18:44:32] Sender besked: ğŸ“Š Top-5 features (ML):
1. close: 0.2173
2. open: 0.2093
3. macd_signal: 0.2077
4. ema_9: 0.1992
5. ema_200: 0.1665
[2025-06-26 18:44:32] Besked sendt OK.
[2025-06-26 18:44:32] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.9% | Win-rate: 50.0% | Trades: 9

[2025-06-26 18:44:32] Besked sendt OK.
[2025-06-26 18:44:34] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.9% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.6, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.6, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.6, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 0.98}}}

[2025-06-26 18:44:34] Besked sendt OK.
[2025-06-26 18:44:34] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 18:44:34] Billede sendt OK.
[2025-06-26 18:44:34] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 18:44:34] Billede sendt OK.
[2025-06-26 18:44:34] Sender billede: graphs/strategy_scores_20250626_184432.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 18:44:34] Billede sendt OK.
[2025-06-26 18:44:34] Sender billede: graphs/feature_importance_ML_20250626_184432.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 18:44:35] Billede sendt OK.
[2025-06-26 18:45:29] Sender besked: ğŸ“Š Top-5 features (ML):
1. macd_signal: 0.2040
2. close: 0.2039
3. macd: 0.2006
4. open: 0.1977
5. ema_9: 0.1938
[2025-06-26 18:45:29] Besked sendt OK.
[2025-06-26 18:45:29] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.82% | Win-rate: 50.0% | Trades: 9

[2025-06-26 18:45:29] Besked sendt OK.
[2025-06-26 18:45:30] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.82% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.59, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.52, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.52, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 0.89}}}

[2025-06-26 18:45:30] Besked sendt OK.
[2025-06-26 18:45:30] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 18:45:31] Billede sendt OK.
[2025-06-26 18:45:31] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 18:45:31] Billede sendt OK.
[2025-06-26 18:45:31] Sender billede: graphs/strategy_scores_20250626_184529.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 18:45:31] Billede sendt OK.
[2025-06-26 18:45:31] Sender billede: graphs/feature_importance_ML_20250626_184529.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 18:45:31] Billede sendt OK.
[2025-06-26 19:57:23] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 19:57:23] Besked sendt OK.
[2025-06-26 19:57:23] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

[2025-06-26 19:57:24] Besked sendt OK.
[2025-06-26 19:57:25] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.76, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 1.06}}}

[2025-06-26 19:57:25] Besked sendt OK.
[2025-06-26 19:57:25] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 19:57:25] Billede sendt OK.
[2025-06-26 19:57:25] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 19:57:25] Billede sendt OK.
[2025-06-26 19:57:25] Sender billede: graphs/strategy_scores_20250626_195724.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 19:57:26] Billede sendt OK.
[2025-06-26 19:57:26] Sender billede: graphs/feature_importance_ML_20250626_195723.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 19:57:26] Billede sendt OK.
[2025-06-26 19:57:47] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 19:57:48] Besked sendt OK.
[2025-06-26 19:57:48] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

[2025-06-26 19:57:48] Besked sendt OK.
[2025-06-26 19:57:49] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.76, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 1.06}}}

[2025-06-26 19:57:49] Besked sendt OK.
[2025-06-26 19:57:49] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 19:57:49] Billede sendt OK.
[2025-06-26 19:57:49] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 19:57:49] Billede sendt OK.
[2025-06-26 19:57:49] Sender billede: graphs/strategy_scores_20250626_195748.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 19:57:50] Billede sendt OK.
[2025-06-26 19:57:50] Sender billede: graphs/feature_importance_ML_20250626_195747.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 19:57:50] Billede sendt OK.
[2025-06-26 19:57:50] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-26\backup_19-57-50
[2025-06-26 19:57:50] Besked sendt OK.
[2025-06-26 20:00:05] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 20:00:05] Besked sendt OK.
[2025-06-26 20:00:06] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

[2025-06-26 20:00:06] Besked sendt OK.
[2025-06-26 20:00:07] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.99% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.76, 'win_rate': 0.3636, 'drawdown_pct': -0.82, 'num_trades': 24}
RSI:   {'profit_pct': -0.67, 'win_rate': 0.4444, 'drawdown_pct': -0.67, 'num_trades': 18}
MACD:  {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26}
Ensemble: {'profit_pct': 0.69, 'win_rate': 0.3333, 'drawdown_pct': -0.9, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.15}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -0.67}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 1.06}}}

[2025-06-26 20:00:07] Besked sendt OK.
[2025-06-26 20:00:07] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 20:00:07] Billede sendt OK.
[2025-06-26 20:00:07] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 20:00:08] Billede sendt OK.
[2025-06-26 20:00:08] Sender billede: graphs/strategy_scores_20250626_200006.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 20:00:08] Billede sendt OK.
[2025-06-26 20:00:08] Sender billede: graphs/feature_importance_ML_20250626_200005.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 20:00:08] Billede sendt OK.
[2025-06-26 20:00:08] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-26\backup_20-00-08
[2025-06-26 20:00:08] Besked sendt OK.
[2025-06-26 21:25:32] Sender besked: âŒ Fejl i main: [Errno 2] No such file or directory: 'din_fil.csv'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\backtest\backtest.py", line 196, in main
    df = pd.read_csv(args.feature_path)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'din_fil.csv'

[2025-06-26 21:25:32] Besked sendt OK.
[2025-06-26 21:26:10] Sender besked: âŒ Fejl i main: [Errno 2] No such file or directory: 'outputs/feature_data/btc_1h_features_v_test_20250610.csv'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\backtest\backtest.py", line 196, in main
    df = pd.read_csv(args.feature_path)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'outputs/feature_data/btc_1h_features_v_test_20250610.csv'

[2025-06-26 21:26:10] Besked sendt OK.
[2025-06-26 21:27:00] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 21:27:00] Besked sendt OK.
[2025-06-26 21:27:00] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

[2025-06-26 21:27:00] Besked sendt OK.
[2025-06-26 21:27:01] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.14, 'win_rate': 0.3636, 'drawdown_pct': -1.71, 'num_trades': 24}
RSI:   {'profit_pct': -1.34, 'win_rate': 0.4444, 'drawdown_pct': -1.34, 'num_trades': 18}
MACD:  {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26}
Ensemble: {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.3}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -1.42}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 0.46}}}

[2025-06-26 21:27:01] Besked sendt OK.
[2025-06-26 21:27:01] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 21:27:02] Billede sendt OK.
[2025-06-26 21:27:02] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 21:27:02] Billede sendt OK.
[2025-06-26 21:27:02] Sender billede: graphs/strategy_scores_20250626_212700.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 21:27:02] Billede sendt OK.
[2025-06-26 21:27:02] Sender billede: graphs/feature_importance_ML_20250626_212700.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 21:27:02] Billede sendt OK.
[2025-06-26 21:27:03] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-26\backup_21-27-02
[2025-06-26 21:27:03] Besked sendt OK.
[2025-06-26 21:29:58] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 21:29:58] Besked sendt OK.
[2025-06-26 21:29:58] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

[2025-06-26 21:29:59] Besked sendt OK.
[2025-06-26 21:30:00] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.14, 'win_rate': 0.3636, 'drawdown_pct': -1.71, 'num_trades': 24}
RSI:   {'profit_pct': -1.34, 'win_rate': 0.4444, 'drawdown_pct': -1.34, 'num_trades': 18}
MACD:  {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26}
Ensemble: {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.3}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -1.42}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 0.46}}}

[2025-06-26 21:30:00] Besked sendt OK.
[2025-06-26 21:30:00] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 21:30:00] Billede sendt OK.
[2025-06-26 21:30:00] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 21:30:00] Billede sendt OK.
[2025-06-26 21:30:00] Sender billede: graphs/strategy_scores_20250626_212959.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 21:30:00] Billede sendt OK.
[2025-06-26 21:30:00] Sender billede: graphs/feature_importance_ML_20250626_212958.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 21:30:01] Billede sendt OK.
[2025-06-26 21:30:01] Sender besked: âœ… Bot kÃ¸rte OK og lavede backup: backups\2025-06-26\backup_21-30-01
[2025-06-26 21:30:01] Besked sendt OK.
[2025-06-26 21:58:28] Sender besked: ğŸ“Š Top-5 features (ML):
1. rsi_14: 0.2480
2. macd_signal: 0.2031
3. ema_21: 0.2024
4. ema_50: 0.1834
5. ema_200: 0.1632
[2025-06-26 21:58:28] Besked sendt OK.
[2025-06-26 21:58:28] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear']
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

[2025-06-26 21:58:29] Besked sendt OK.
[2025-06-26 21:58:30] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: 0.31% | Win-rate: 50.0% | Trades: 9

ğŸ“Š Strategi-score:
ML:    {'profit_pct': -0.14, 'win_rate': 0.3636, 'drawdown_pct': -1.71, 'num_trades': 24}
RSI:   {'profit_pct': -1.34, 'win_rate': 0.4444, 'drawdown_pct': -1.34, 'num_trades': 18}
MACD:  {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26}
Ensemble: {'profit_pct': -0.29, 'win_rate': 0.3333, 'drawdown_pct': -1.86, 'num_trades': 26, 'regime_stats': {'neutral': {'num_trades': 5, 'win_rate': 0.0, 'profit_pct': -0.3}, 'bear': {'num_trades': 13, 'win_rate': 0.5, 'profit_pct': -1.42}, 'bull': {'num_trades': 8, 'win_rate': 0.25, 'profit_pct': 0.46}}}

[2025-06-26 21:58:30] Besked sendt OK.
[2025-06-26 21:58:30] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 21:58:30] Billede sendt OK.
[2025-06-26 21:58:30] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 21:58:30] Billede sendt OK.
[2025-06-26 21:58:30] Sender billede: graphs/strategy_scores_20250626_215829.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 21:58:30] Billede sendt OK.
[2025-06-26 21:58:30] Sender billede: graphs/feature_importance_ML_20250626_215828.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 21:58:31] Billede sendt OK.
[2025-06-26 22:41:38] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_224137.csv
[2025-06-26 22:41:39] Besked sendt OK.
[2025-06-26 22:41:39] Sender besked: âš ï¸ Fetch FEJLEDE, bruger fallback: data\BTCUSDT_1h_20250626_224137.csv
[2025-06-26 22:41:39] Besked sendt OK.
[2025-06-26 22:46:16] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_224615.csv
[2025-06-26 22:46:16] Besked sendt OK.
[2025-06-26 23:07:29] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_230728.csv
[2025-06-26 23:07:29] Besked sendt OK.
[2025-06-26 23:09:01] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_230900.csv
[2025-06-26 23:09:01] Besked sendt OK.
[2025-06-26 23:09:07] Sender besked: âŒ Fejl i <lambda>: 'regime'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'regime'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 231, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 95, in main
    print("Regime-vÃ¦rdier i df:", df["regime"].value_counts(dropna=False).to_dict())
                                  ~~^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'regime'

[2025-06-26 23:09:07] Besked sendt OK.
[2025-06-26 23:13:17] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_231316.csv
[2025-06-26 23:13:17] Besked sendt OK.
[2025-06-26 23:13:19] Sender besked: âŒ FEJL: Features-filen mangler kolonnen 'regime'.
Kolonner fundet: ['timestamp', 'open', 'high', 'low', 'close', 'volume', 'rsi_14', 'ema_9', 'ema_21', 'ema_50', 'ema_200', 'macd', 'macd_signal', 'atr_14']
Tip: Tjek feature engineering, og at alle steps kÃ¸res i korrekt rÃ¦kkefÃ¸lge.
[2025-06-26 23:13:19] Besked sendt OK.
[2025-06-26 23:16:25] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_231624.csv
[2025-06-26 23:16:25] Besked sendt OK.
[2025-06-26 23:16:27] Sender besked: âŒ FEJL: Features-filen mangler kolonnen 'regime'.
Kolonner fundet: ['timestamp', 'open', 'high', 'low', 'close', 'volume', 'rsi_14', 'ema_9', 'ema_21', 'ema_50', 'ema_200', 'macd', 'macd_signal', 'atr_14']
Tip: Tjek feature engineering, og at alle steps kÃ¸res i korrekt rÃ¦kkefÃ¸lge.
[2025-06-26 23:16:27] Besked sendt OK.
[2025-06-26 23:16:55] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_231654.csv
[2025-06-26 23:16:55] Besked sendt OK.
[2025-06-26 23:17:32] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_231731.csv
[2025-06-26 23:17:32] Besked sendt OK.
[2025-06-26 23:17:34] Sender besked: âŒ Fejl i <lambda>: 'target'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'target'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 251, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 119, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 250, in train_model
    y = df[target_col]
        ~~^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'target'

[2025-06-26 23:17:34] Besked sendt OK.
[2025-06-26 23:25:26] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_232526.csv
[2025-06-26 23:25:27] Besked sendt OK.
[2025-06-26 23:25:29] Sender besked: âŒ Fejl i <lambda>: 'target'
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'target'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 251, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 119, in main
    model, model_path, feature_cols = train_model(df)
                                      ^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\models\model_training.py", line 250, in train_model
    y = df[target_col]
        ~~^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'target'

[2025-06-26 23:25:29] Besked sendt OK.
[2025-06-26 23:25:51] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_232550.csv
[2025-06-26 23:25:51] Besked sendt OK.
[2025-06-26 23:26:26] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_232625.csv
[2025-06-26 23:26:26] Besked sendt OK.
[2025-06-26 23:26:32] Sender besked: ğŸ“Š Top-5 features (ML):
1. volume: 0.1547
2. close: 0.1494
3. rsi_14: 0.1485
4. atr_14: 0.1417
5. macd_signal: 0.1362
[2025-06-26 23:26:32] Besked sendt OK.
[2025-06-26 23:26:32] Sender besked: âŒ Fejl i <lambda>: âŒ DataFrame indeholder NaN i 'close' eller 'ema_200'!
Traceback:
Traceback (most recent call last):
  File "C:\Users\reno_\Desktop\ai_trading_core\utils\robust_utils.py", line 22, in safe_run
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 251, in <lambda>
    safe_run(lambda: main(threshold=threshold, weights=weights))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\bot\engine.py", line 160, in main
    trades_df, balance_df = run_backtest(df, signals=ensemble_signals)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\reno_\Desktop\ai_trading_core\backtest\backtest.py", line 89, in run_backtest
    raise ValueError("âŒ DataFrame indeholder NaN i 'close' eller 'ema_200'!")
ValueError: âŒ DataFrame indeholder NaN i 'close' eller 'ema_200'!

[2025-06-26 23:26:32] Besked sendt OK.
[2025-06-26 23:32:23] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_233222.csv
[2025-06-26 23:32:23] Besked sendt OK.
[2025-06-26 23:33:08] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250626_233307.csv
[2025-06-26 23:33:08] Besked sendt OK.
[2025-06-26 23:33:13] Sender besked: ğŸ“Š Top-5 features (ML):
1. volume: 0.2061
2. macd_signal: 0.2038
3. close: 0.1988
4. high: 0.1978
5. rsi_14: 0.1935
[2025-06-26 23:33:13] Besked sendt OK.
[2025-06-26 23:33:13] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear', 'bull']
Profit: -0.01% | Win-rate: 44.4% | Trades: 10

[2025-06-26 23:33:13] Besked sendt OK.
[2025-06-26 23:33:14] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.01% | Win-rate: 44.4% | Trades: 10

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.38, 'win_rate': 0.4444, 'drawdown_pct': -1.42, 'num_trades': 20}
RSI:   {'profit_pct': -0.9, 'win_rate': 0.5, 'drawdown_pct': -0.9, 'num_trades': 12}
MACD:  {'profit_pct': -0.16, 'win_rate': 0.4, 'drawdown_pct': -1.56, 'num_trades': 22}
Ensemble: {'profit_pct': -0.01, 'win_rate': 0.4444, 'drawdown_pct': -1.42, 'num_trades': 20, 'regime_stats': {'bear': {'num_trades': 14, 'win_rate': 0.5, 'profit_pct': -1.34}, 'bull': {'num_trades': 6, 'win_rate': 0.3333, 'profit_pct': 0.44}}}

[2025-06-26 23:33:14] Besked sendt OK.
[2025-06-26 23:33:14] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-26 23:33:14] Billede sendt OK.
[2025-06-26 23:33:14] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-26 23:33:15] Billede sendt OK.
[2025-06-26 23:33:15] Sender billede: graphs/strategy_scores_20250626_233313.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-26 23:33:15] Billede sendt OK.
[2025-06-26 23:33:15] Sender billede: graphs/feature_importance_ML_20250626_233313.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-26 23:33:15] Billede sendt OK.
[2025-06-27 00:06:55] Sender besked: âœ… Data hentet: BTCUSDT 1h, 718 rÃ¦kker, fil: BTCUSDT_1h_20250627_000654.csv
[2025-06-27 00:06:55] Besked sendt OK.
[2025-06-27 00:07:00] Sender besked: ğŸ“Š Top-5 features (ML):
1. volume: 0.2061
2. macd_signal: 0.2038
3. close: 0.1988
4. high: 0.1978
5. rsi_14: 0.1935
[2025-06-27 00:07:00] Besked sendt OK.
[2025-06-27 00:07:00] Sender besked: ğŸ¤– Adaptiv regime-strategi aktiv!
Aktive regimer: ['bear', 'bull']
Profit: -0.01% | Win-rate: 44.4% | Trades: 10

[2025-06-27 00:07:00] Besked sendt OK.
[2025-06-27 00:07:01] Sender besked: âœ… Backtest for BTC afsluttet!
Mode: Weighted voting
Weights: [1.9637144743512338, 0.3169664184031755, 1.702941580715635]
Threshold: 0.7261630981110665
Profit: -0.01% | Win-rate: 44.4% | Trades: 10

ğŸ“Š Strategi-score:
ML:    {'profit_pct': 0.38, 'win_rate': 0.4444, 'drawdown_pct': -1.42, 'num_trades': 20}
RSI:   {'profit_pct': -0.9, 'win_rate': 0.5, 'drawdown_pct': -0.9, 'num_trades': 12}
MACD:  {'profit_pct': -0.16, 'win_rate': 0.4, 'drawdown_pct': -1.56, 'num_trades': 22}
Ensemble: {'profit_pct': -0.01, 'win_rate': 0.4444, 'drawdown_pct': -1.42, 'num_trades': 20, 'regime_stats': {'bear': {'num_trades': 14, 'win_rate': 0.5, 'profit_pct': -1.34}, 'bull': {'num_trades': 6, 'win_rate': 0.3333, 'profit_pct': 0.44}}}

Versionsinfo: pipeline v1.0.0/f13c8d9, engine v1.0.0/8ac34b1, model v1.0.0, feature v1.0.0
[2025-06-27 00:07:02] Besked sendt OK.
[2025-06-27 00:07:02] Sender billede: graphs/btc_balance_20250626.png (caption: ğŸ“ˆ Balanceudvikling for BTC)
[2025-06-27 00:07:02] Billede sendt OK.
[2025-06-27 00:07:02] Sender billede: graphs/btc_drawdown_2025-06-26.png (caption: ğŸ“‰ Drawdown for BTC)
[2025-06-27 00:07:02] Billede sendt OK.
[2025-06-27 00:07:02] Sender billede: graphs/strategy_scores_20250627_000700.png (caption: ğŸ“Š Strategi-score ML/RSI/MACD/Ensemble)
[2025-06-27 00:07:02] Billede sendt OK.
[2025-06-27 00:07:02] Sender billede: graphs/feature_importance_ML_20250627_000700.png (caption: ğŸ§  Feature Importance for ML-model)
[2025-06-27 00:07:02] Billede sendt OK.
